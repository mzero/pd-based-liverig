#N canvas 263 95 866 643 10;
#N canvas 1392 157 441 218 config 0;
#X obj 102 77 loadbang;
#X obj 103 152 s resetbang;
#X obj 16 15 bng 15 250 50 0 empty empty reset_bang! 17 7 0 10 -262144
-1 -258113;
#X obj 245 15 r resetbang;
#X obj 16 108 s doui;
#X obj 16 36 tgl 15 0 empty empty do_ui 17 7 0 10 -262144 -1 -1 0 1
;
#X msg 245 44 \; port-uc 1 \; port-dt 2 \; port-pf 3 \; port-kb 4,
f 11;
#X obj 121 105 btn reset-all;
#X connect 0 0 1 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 5 0 4 0;
#X connect 7 0 1 0;
#X coords 0 -1 1 1 185 60 2 10 10;
#X restore 16 12 pd config;
#N canvas 141 709 721 605 link-sync 0;
#X msg 34 117 connect 1;
#X obj 123 510 midiout;
#X obj 218 473 r port-dt;
#X floatatom 20 51 5 0 0 0 - - -, f 5;
#X text 14 33 tempo;
#X obj 34 142 abl_link~ 24 0 4 120;
#X obj 34 92 r resetbang;
#X floatatom 69 50 5 0 0 0 - - -, f 5;
#X obj 223 17 r #abl_link_num_peers;
#X text 65 32 link'd;
#X obj 397 204 * 0.1;
#X obj 377 234 +;
#X msg 159 116 tempo \$1;
#X obj 375 115 expr if($f1 < 64 \, $f1 \, $f1 - 128);
#X obj 397 175 expr if($f1 < 64 \, $f1 \, $f1 - 128);
#X obj 179 258 * 10;
#X obj 179 346 bendout 13;
#X msg 196 224 set \$1;
#X obj 70 224 s link_phase;
#X obj 68 249 s link_tempo;
#X msg 137 436 248;
#X obj 179 280 + 0.5;
#X obj 178 302 int;
#X obj 179 325 - 8192;
#X obj 304 336 ctl sync-play;
#X obj 173 50 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 304 368 select 0 1;
#X msg 370 397 1;
#X obj 34 388 select -1;
#X msg 54 440 250 \, 248;
#X msg 322 397 0;
#X msg 277 394 -1;
#X obj 34 409 t b b;
#X msg 304 305 0;
#X text 163 30 play;
#X msg 511 260 4;
#X msg 521 286 4;
#X obj 491 335 s link_quantum;
#X obj 522 311 s link_beatunit;
#X obj 510 229 r resetbang;
#X floatatom 131 33 2 0 0 0 - link_quantum -, f 2;
#X floatatom 131 49 2 0 0 0 - link_beatunit -, f 2;
#X obj 97 535 midiout;
#X obj 195 498 r port-ci;
#X obj 375 90 ctlin 120 13;
#X obj 397 150 ctlin 121 13;
#X obj 224 48 ctlout 123 13;
#X connect 0 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 12 0;
#X connect 5 0 28 0;
#X connect 5 1 18 0;
#X connect 5 3 11 1;
#X connect 5 3 15 0;
#X connect 5 3 17 0;
#X connect 5 3 19 0;
#X connect 6 0 0 0;
#X connect 8 0 7 0;
#X connect 8 0 46 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 5 0;
#X connect 13 0 11 0;
#X connect 14 0 10 0;
#X connect 15 0 21 0;
#X connect 17 0 3 0;
#X connect 20 0 1 0;
#X connect 20 0 42 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 16 0;
#X connect 24 0 26 0;
#X connect 24 1 25 0;
#X connect 25 0 24 0;
#X connect 26 0 31 0;
#X connect 26 1 30 0;
#X connect 26 2 27 0;
#X connect 27 0 24 0;
#X connect 28 0 32 0;
#X connect 28 1 20 0;
#X connect 29 0 1 0;
#X connect 29 0 42 0;
#X connect 30 0 28 1;
#X connect 31 0 28 1;
#X connect 32 0 33 0;
#X connect 32 1 29 0;
#X connect 33 0 24 0;
#X connect 35 0 37 0;
#X connect 36 0 38 0;
#X connect 39 0 35 0;
#X connect 39 0 36 0;
#X connect 43 0 42 1;
#X connect 44 0 13 0;
#X connect 45 0 14 0;
#X coords 0 -1 1 1 185 60 1 10 10;
#X restore 14 81 pd link-sync;
#N canvas 986 50 599 337 dt-volumes 0;
#X obj 111 -3 ctlin 95 1;
#X obj 200 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4048 1;
#X obj 100 273 ctlout 95 17;
#X obj 216 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2754 1;
#X obj 232 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4048 1;
#X obj 248 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 3798 1;
#X obj 282 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4382 1;
#X obj 298 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 3923 1;
#X obj 314 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 3839 1;
#X obj 330 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 3923 1;
#X obj 392 69 ctlin 95 8;
#X obj 387 177 ctlout 95 24;
#X obj 375 48 ctlin 95 7;
#X obj 371 198 ctlout 95 23;
#X obj 356 26 ctlin 95 6;
#X obj 353 221 ctlout 95 22;
#X obj 342 6 ctlin 95 5;
#X obj 337 244 ctlout 95 21;
#X obj 221 64 ctlin 95 4;
#X obj 208 196 ctlout 95 20;
#X obj 190 41 ctlin 95 3;
#X obj 180 223 ctlout 95 19;
#X obj 141 249 ctlout 95 18;
#X obj 149 19 ctlin 95 2;
#X text 354 123 DT;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 22 0;
#X connect 4 0 21 0;
#X connect 5 0 19 0;
#X connect 6 0 17 0;
#X connect 7 0 15 0;
#X connect 8 0 13 0;
#X connect 9 0 11 0;
#X connect 10 0 9 0;
#X connect 12 0 8 0;
#X connect 14 0 7 0;
#X connect 16 0 6 0;
#X connect 18 0 5 0;
#X connect 20 0 4 0;
#X connect 23 0 3 0;
#X coords 0 -1 1 1 185 60 2 200 100;
#X restore 18 153 pd dt-volumes;
#N canvas 790 841 858 474 verb 0;
#X msg 552 126 roomsize \$1;
#X msg 550 206 damping \$1;
#X msg 550 280 width \$1;
#X msg 137 272 print;
#X msg 126 82 freeze \$1;
#X msg 131 120 bypass \$1;
#X obj 131 101 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0
1;
#X obj 126 63 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1
;
#X obj 412 51 hsl 60 18 0 1 0 1 ctl_verb-width_range ctl_verb-width_range
width 2 9 1 12 -262131 -1 -1 2950 0;
#X obj 310 51 hsl 60 18 0 2 0 1 ctl_verb-damp_range ctl_verb-damp_range
damping 2 9 1 12 -261689 -1 -1 1180 0;
#X obj 310 34 hsl 60 18 0.11 1.1 0 1 ctl_verb-room_range ctl_verb-room_range
roomsize 2 9 1 12 -261689 -1 -1 2324 0;
#X obj 339 361 freeverb~/freeverb~;
#X obj 133 140 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 133 158 firstpassfilter \$1;
#X obj 336 287 inlet~;
#X obj 469 327 inlet~;
#X obj 468 383 outlet~;
#X obj 338 385 outlet~;
#X obj 300 203 r resetbang;
#X msg 300 229 wet 0.707 \, dry 0;
#X obj 508 36 btn verb-sane;
#X msg 508 60 sane;
#X obj 552 102 ctl-range verb-room 0.5 0.11 1.1;
#X obj 550 258 ctl-range verb-width 0.5 0 1;
#X obj 550 183 ctl-range verb-damp 0.4 0 2;
#X obj 469 10 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 11 0;
#X connect 1 0 11 0;
#X connect 2 0 11 0;
#X connect 3 0 11 0;
#X connect 4 0 11 0;
#X connect 5 0 11 0;
#X connect 6 0 5 0;
#X connect 7 0 4 0;
#X connect 11 0 17 0;
#X connect 11 1 16 0;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 15 0 11 1;
#X connect 18 0 19 0;
#X connect 19 0 11 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 21 0 23 0;
#X connect 21 0 24 0;
#X connect 22 0 0 0;
#X connect 23 0 2 0;
#X connect 24 0 1 0;
#X connect 25 0 21 0;
#X coords 0 -1 1 1 185 60 1 300 10;
#X restore 314 455 pd verb;
#X obj 312 22 adc~;
#N canvas 6 250 1265 703 flutter 0;
#X obj 241 122 r link_tempo;
#X obj 339 122 r link_phase;
#X obj 266 310 osc~ 2;
#X obj 240 145 / 60;
#X obj 339 146 - 0.2;
#X obj 243 281 *;
#X obj 131 217 t b f;
#X floatatom 202 315 5 0 0 0 - - -, f 5;
#X obj 312 280 *;
#X obj 224 50 hsl 140 15 0 127 0 0 ctl_flutter ctl_flutter off_|__8_|_16_|_32_|_64_
0 8 0 10 -204786 -1 -1 0 1;
#X obj 444 409 inlet~;
#X obj 523 410 inlet~;
#X obj 527 567 outlet~;
#X obj 448 567 outlet~;
#X obj 463 487 *~;
#X obj 543 485 *~;
#X obj 129 118 * 5;
#X obj 129 140 / 128;
#X obj 129 163 int;
#X obj 415 186 min 1;
#X obj 415 210 change;
#X obj 414 254 line~;
#X obj 266 334 expr~ max(1 - pow(1 - max(0 \, $v1) \, 4) \, 1 - $v2)
, f 22;
#X obj 129 190 expr pow(2 \, $i1+1);
#X obj 414 231 pack 0 100;
#X obj 95 90 ctl flutter 0;
#X msg 409 60 sane;
#X obj 370 10 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 409 36 btn misc-sane;
#X obj 459 518 *~;
#X obj 542 519 *~;
#X obj 728 262 spigot, f 22;
#X floatatom 728 291 5 0 0 0 - - -, f 5;
#X obj 728 222 expr 1 - (52 <= $i1 && $i1 <= 83), f 19;
#X obj 728 31 notein 64, f 37;
#X obj 728 339 select 0 1;
#X obj 726 430 vline~;
#X msg 855 398 1 10;
#X obj 726 463 *~ 1;
#X obj 962 178 r link_tempo;
#X obj 963 243 expr (60000/$f1)/($f2/4);
#X obj 1080 205 t b f;
#X floatatom 980 268 8 0 0 0 - - -, f 8;
#X msg 727 397 0 10 \, 1 10 \$1;
#X obj 727 367 float;
#X obj 879 100 expr $i2 > 0 && ((44 <= $i1 && $i1 <= 59) || (76 <=
$i1 && $i1 <= 91)), f 16;
#X obj 728 61 t i i;
#X obj 1081 145 r resetbang;
#X msg 1081 176 16;
#X obj 963 322 *;
#X msg 916 264 1.15;
#X obj 916 293 t b f;
#X obj 855 179 r resetbang;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 22 0;
#X connect 3 0 5 0;
#X connect 4 0 8 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 6 0 8 0;
#X connect 6 1 5 1;
#X connect 6 1 8 1;
#X connect 8 0 2 1;
#X connect 10 0 14 0;
#X connect 11 0 15 0;
#X connect 14 0 29 0;
#X connect 15 0 30 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 0 23 0;
#X connect 19 0 20 0;
#X connect 20 0 24 0;
#X connect 21 0 22 1;
#X connect 22 0 14 1;
#X connect 22 0 15 1;
#X connect 23 0 6 0;
#X connect 24 0 21 0;
#X connect 25 0 16 0;
#X connect 26 0 25 0;
#X connect 27 0 26 0;
#X connect 28 0 26 0;
#X connect 29 0 13 0;
#X connect 30 0 12 0;
#X connect 31 0 32 0;
#X connect 32 0 35 0;
#X connect 33 0 31 0;
#X connect 34 0 46 0;
#X connect 34 1 45 1;
#X connect 35 0 44 0;
#X connect 35 1 37 0;
#X connect 36 0 38 0;
#X connect 37 0 36 0;
#X connect 38 0 29 1;
#X connect 38 0 30 1;
#X connect 39 0 40 0;
#X connect 40 0 42 0;
#X connect 40 0 49 0;
#X connect 41 0 40 0;
#X connect 41 1 40 1;
#X connect 43 0 36 0;
#X connect 44 0 43 0;
#X connect 45 0 31 1;
#X connect 46 0 33 0;
#X connect 46 1 45 0;
#X connect 47 0 48 0;
#X connect 48 0 41 0;
#X connect 49 0 44 1;
#X connect 50 0 51 0;
#X connect 51 0 49 0;
#X connect 51 1 49 1;
#X connect 52 0 37 0;
#X connect 52 0 50 0;
#X coords 0 -1 1 1 185 60 1 200 10;
#X restore 244 151 pd flutter;
#N canvas 253 65 808 753 mapping 0;
#X obj 359 631 ctlin, f 12;
#X floatatom 360 660 5 0 0 0 - - -, f 5;
#X floatatom 402 660 5 0 0 0 - - -, f 5;
#X floatatom 443 660 5 0 0 0 - - -, f 5;
#X obj 508 630 notein, f 12;
#X floatatom 509 658 5 0 0 0 - - -, f 5;
#X floatatom 551 658 5 0 0 0 - - -, f 5;
#X floatatom 592 658 5 0 0 0 - - -, f 5;
#X obj 296 31 ctl-map loop-sttt 8 13;
#X obj 296 61 ctl-map loop-over 9 13;
#X obj 361 141 ctl-map mix_dry 11 13;
#X obj 361 171 ctl-map mix_verb 12 13;
#X obj 361 201 ctl-map mix_belay 13 13;
#X obj 308 285 ctl-map master-vol 15 13;
#X obj 24 27 ctl-map loop-fade 112 13;
#X obj 24 57 ctl-map flutter 113 13;
#X obj 24 87 ctl-map filt-hi-f 114 13;
#X obj 24 117 ctl-map filt-lo-f 115 13;
#X obj 73 202 ctl-map belay-feed 117 13;
#X obj 72 232 ctl-map belay-cross 118 13;
#X obj 72 262 ctl-map belay-beats 119 13;
#X obj 24 147 btn-map misc-sane 14 13;
#X obj 72 292 btn-map belay-sane 13 13;
#X obj 28 344 ctl-map verb-room 100 13;
#X obj 28 374 ctl-map verb-damp 101 13;
#X obj 28 404 ctl-map verb-width 102 13;
#X obj 28 434 btn-map verb-sane 12 13;
#X obj 66 489 ctl-map sync-play 122 13;
#X obj 366 353 ctl-map eq-lo 82 13;
#X obj 366 383 ctl-map eq-mid 83 13;
#X obj 366 413 ctl-map eq-hi 84 13;
#X obj 366 443 ctl-map eq-f1 86 13;
#X obj 366 473 ctl-map eq-f2 87 13;
#X obj 366 503 btn-map eq-sane 10 13;
#X obj 366 567 btn-raw loop-play 8 13;
#X obj 359 689 btn-map reset-all 15 13;
#X obj 47 546 btn-raw kb-preenfm2-1 0 13;
#X obj 47 576 btn-raw kb-preenfm2-2 1 13;
#X obj 47 606 btn-raw kb-preenfm2-3 2 13;
#X obj 47 636 btn-raw kb-preenfm2-4 3 13;
#X obj 47 666 btn-raw kb-digitakt 4 13;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 3 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 4 2 7 0;
#X restore 25 589 pd mapping;
#N canvas 518 778 532 466 output 0;
#X obj 132 37 hsl 42 23 0.01 1 1 0 \$0-v \$0-v volume 7 13 1 9 -245500
-13381 -1 3773 0;
#X obj 176 37 tgl 18 0 THIS_IS_HERE_TO_GET_RID_OF_THE_OUTLET \$0-dsp-toggle
dsp 2 9 1 9 -225271 -195568 -33289 1 1;
#N canvas 1019 468 429 371 dsp 0;
#X obj 36 30 inlet;
#X obj 117 227 select 0 1;
#X msg 150 252 6;
#X obj 117 86 route dsp;
#X obj 117 59 receive pd;
#X msg 36 228 dsp \$1;
#X obj 36 253 send pd;
#X msg 231 279 set \$1;
#X msg 117 279 color \$1 20 12;
#X obj 231 310 send \$0-dsp-toggle;
#X msg 117 251 0;
#X obj 251 129 loadbang;
#X obj 231 99 sig~ 1;
#X obj 231 191 snapshot~;
#X obj 251 158 delay 100;
#X obj 117 138 change -1;
#X obj 2 2 cnv 15 425 20 empty empty empty 3 12 0 14 -204280 -1 0;
#X text 6 3 Retrieve and set DSP state;
#X connect 0 0 5 0;
#X connect 0 0 15 0;
#X connect 1 0 10 0;
#X connect 1 1 2 0;
#X connect 2 0 8 0;
#X connect 3 0 15 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 10 0 8 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 13 0 1 0;
#X connect 13 0 7 0;
#X connect 14 0 13 0;
#X connect 15 0 7 0;
#X connect 15 0 1 0;
#X restore 148 76 pd dsp logic;
#X obj 253 44 inlet~;
#X obj 74 268 line~;
#X obj 174 328 *~;
#X obj 194 358 dac~;
#X text 382 46 audio in;
#X obj 315 44 inlet~;
#X obj 236 327 *~;
#X obj 253 115 hip~ 3;
#X obj 315 115 hip~ 3;
#X obj 10 283 send pd;
#X msg 10 262 dsp 1;
#X obj 74 247 pack 0 50;
#X text 141 246 <-- make a ramp to avoid clicks or zipper noise;
#X msg 74 212 0;
#X obj 74 189 moses 0.011;
#X text 359 116 filter out DC;
#X obj 4 3 cnv 15 425 20 empty empty empty 3 12 0 14 -204280 -1 0;
#X text 10 3 dac~ and DSP switch abstraction;
#X text 14 376 Created by Katja Vetter after an idea by Claude Heiland-Allen
- Modified by mzero@ for use in ek.pd;
#X obj 271 67 catch~ bus_master_l;
#X obj 346 91 catch~ bus_master_r;
#X obj 14 110 ctl-range master-vol 0.2 0 1;
#X connect 0 0 24 0;
#X connect 1 0 2 0;
#X connect 3 0 10 0;
#X connect 4 0 9 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 8 0 11 0;
#X connect 9 0 6 1;
#X connect 10 0 5 1;
#X connect 11 0 9 1;
#X connect 13 0 12 0;
#X connect 14 0 4 0;
#X connect 16 0 14 0;
#X connect 17 0 16 0;
#X connect 17 1 14 0;
#X connect 22 0 10 0;
#X connect 23 0 11 0;
#X connect 24 0 13 0;
#X connect 24 0 17 0;
#X connect 24 1 0 0;
#X coords 0 -1 1 1 185 30 1 10 30;
#X restore 541 423 pd output;
#N canvas 707 768 695 463 filter-all 0;
#X obj 43 203 inlet~;
#X obj 42 357 outlet~;
#X obj 120 203 inlet~;
#X obj 119 357 outlet~;
#X obj 219 134 mtof;
#X obj 219 159 * 2;
#X obj 297 176 mtof;
#X obj 297 201 * 2;
#X obj 297 148 ctl filt-lo-f 127;
#X obj 43 235 hip~;
#X obj 42 325 lop~;
#X obj 120 235 hip~;
#X obj 119 325 lop~;
#X obj 219 106 ctl filt-hi-f 0;
#X obj 19 51 hsl 70 15 0 127 0 0 ctl_filt-hi-f ctl_filt-hi-f hi_pass
0 8 0 10 -204800 -1 -1 0 1;
#X obj 110 50 hsl 70 15 0 127 0 0 ctl_filt-lo-f ctl_filt-lo-f lo_pass
0 8 0 10 -204800 -1 -1 6900 1;
#X obj 43 264 hip~;
#X obj 41 293 lop~;
#X obj 120 264 hip~;
#X obj 118 293 lop~;
#X msg 220 60 sane;
#X obj 180 10 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 220 36 btn misc-sane;
#X connect 0 0 9 0;
#X connect 2 0 11 0;
#X connect 4 0 5 0;
#X connect 5 0 9 1;
#X connect 5 0 11 1;
#X connect 5 0 18 1;
#X connect 5 0 16 1;
#X connect 6 0 7 0;
#X connect 7 0 10 1;
#X connect 7 0 12 1;
#X connect 7 0 19 1;
#X connect 7 0 17 1;
#X connect 8 0 6 0;
#X connect 9 0 16 0;
#X connect 10 0 1 0;
#X connect 11 0 18 0;
#X connect 12 0 3 0;
#X connect 13 0 4 0;
#X connect 16 0 17 0;
#X connect 17 0 10 0;
#X connect 18 0 19 0;
#X connect 19 0 12 0;
#X connect 20 0 13 0;
#X connect 20 0 8 0;
#X connect 21 0 20 0;
#X connect 22 0 20 0;
#X coords 0 -1 1 1 185 60 1 10 10;
#X restore 243 296 pd filter-all;
#X obj 243 366 chan-mix dry;
#X obj 313 525 chan-mix verb;
#X obj 533 201 chan dry;
#X obj 612 200 chan verb;
#X obj 562 25 r resetbang;
#X msg 562 49 inv 1;
#N canvas 817 624 1160 793 belay 0;
#X obj 627 53 inlet~;
#X obj 808 54 inlet~;
#X obj 731 94 *~ 0.5;
#X obj 628 672 delwrite~ belay-left 8000;
#X obj 731 649 delwrite~ belay-center 8000;
#X obj 811 626 delwrite~ belay-right 8000;
#X obj 73 93 r link_tempo;
#X obj 73 118 t b f, f 12;
#X msg 73 147 15000;
#X obj 73 173 /, f 12;
#X floatatom 72 213 5 0 0 0 - - -, f 5;
#X obj 208 318 delread4~ belay-left;
#X obj 308 341 delread4~ belay-center;
#X obj 388 364 delread4~ belay-right;
#X obj 215 521 outlet~;
#X obj 393 522 outlet~;
#X obj 130 205 pack 0 10;
#X obj 130 229 line~;
#X obj 303 274 *~;
#X obj 18 33 hsl 60 18 0 1 0 1 ctl_belay-feed_range ctl_belay-feed_range
feedback 2 9 1 12 -261234 -1 -1 3345 0;
#X obj 18 52 hsl 60 18 0 1 0 1 ctl_belay-cross_range ctl_belay-cross_range
cross 2 9 1 12 -261234 -1 -1 3531 0;
#X obj 122 35 hsl 60 18 1 16 0 1 ctl_belay-beats_range ctl_belay-beats_range
beats 2 9 1 12 -204800 -1 -1 3540 0;
#X obj 82 332 pack 0 10;
#X obj 83 354 line~;
#X obj 393 473 *~ 1;
#X obj 215 472 *~ 1;
#X obj 198 438 *~;
#X obj 417 441 *~;
#X obj 66 392 -~;
#X obj 22 355 sig~ 1;
#X obj 244 440 *~;
#X obj 345 442 *~;
#X obj 599 505 *~;
#X obj 702 507 *~;
#X obj 786 506 *~;
#X obj 549 251 pack 0 100;
#X obj 551 277 line~;
#X obj 208 274 *~ 3;
#X obj 388 276 *~ 5;
#X obj 303 216 line~;
#X obj 303 192 pack 0 50;
#X floatatom 133 55 5 0 0 0 - - -, f 5;
#X obj 303 168 int;
#X obj 319 57 ctl-range belay-beats 6 1 16;
#X obj 229 10 btn belay-sane;
#X msg 229 32 sane;
#X obj 180 10 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 281 86 ctl-range belay-feed 0.15 0 1;
#X obj 233 121 ctl-range belay-cross 0.2 0 1;
#N canvas 1737 776 660 434 beat-notes 0;
#X obj 125 65 notein 64;
#X obj 185 93 > 0;
#X obj 125 121 spigot;
#X obj 125 152 select 64 65 66 67 96 97 98 99 60 61 62 63 92 93 94
95;
#X msg 125 184 1;
#X msg 162 185 2;
#X msg 198 186 3;
#X msg 236 186 4;
#X msg 221 212 5;
#X msg 258 213 6;
#X msg 294 214 7;
#X msg 332 214 8;
#X msg 319 241 9;
#X msg 356 242 10;
#X msg 392 243 11;
#X msg 430 243 12;
#X msg 415 274 13;
#X msg 452 275 14;
#X msg 488 276 15;
#X msg 526 276 16;
#X obj 124 362 t i i;
#X obj 126 401 outlet;
#X obj 198 402 outlet;
#X connect 0 0 2 0;
#X connect 0 1 1 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 3 3 7 0;
#X connect 3 4 8 0;
#X connect 3 5 9 0;
#X connect 3 6 10 0;
#X connect 3 7 11 0;
#X connect 3 8 12 0;
#X connect 3 9 13 0;
#X connect 3 10 14 0;
#X connect 3 11 15 0;
#X connect 3 12 16 0;
#X connect 3 13 17 0;
#X connect 3 14 18 0;
#X connect 3 15 19 0;
#X connect 4 0 20 0;
#X connect 5 0 20 0;
#X connect 6 0 20 0;
#X connect 7 0 20 0;
#X connect 8 0 20 0;
#X connect 9 0 20 0;
#X connect 10 0 20 0;
#X connect 11 0 20 0;
#X connect 12 0 20 0;
#X connect 13 0 20 0;
#X connect 14 0 20 0;
#X connect 15 0 20 0;
#X connect 16 0 20 0;
#X connect 17 0 20 0;
#X connect 18 0 20 0;
#X connect 19 0 20 0;
#X connect 20 0 22 0;
#X connect 20 1 21 0;
#X restore 378 23 pd beat-notes;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 1 9 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 0 16 0;
#X connect 11 0 26 1;
#X connect 11 0 32 1;
#X connect 12 0 30 1;
#X connect 12 0 31 1;
#X connect 12 0 33 1;
#X connect 13 0 27 1;
#X connect 13 0 34 1;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 0 37 0;
#X connect 17 0 38 0;
#X connect 18 0 12 0;
#X connect 22 0 23 0;
#X connect 23 0 28 1;
#X connect 23 0 30 0;
#X connect 23 0 31 0;
#X connect 24 0 15 0;
#X connect 25 0 14 0;
#X connect 26 0 25 0;
#X connect 27 0 24 0;
#X connect 28 0 26 0;
#X connect 28 0 27 0;
#X connect 29 0 28 0;
#X connect 30 0 25 0;
#X connect 31 0 24 0;
#X connect 32 0 3 0;
#X connect 33 0 4 0;
#X connect 34 0 5 0;
#X connect 35 0 36 0;
#X connect 36 0 32 0;
#X connect 36 0 33 0;
#X connect 36 0 34 0;
#X connect 37 0 11 0;
#X connect 38 0 13 0;
#X connect 39 0 18 1;
#X connect 40 0 39 0;
#X connect 42 0 40 0;
#X connect 42 0 41 0;
#X connect 43 0 42 0;
#X connect 44 0 45 0;
#X connect 45 0 47 0;
#X connect 45 0 48 0;
#X connect 46 0 45 0;
#X connect 47 0 35 0;
#X connect 48 0 22 0;
#X connect 49 0 43 0;
#X connect 49 1 42 0;
#X coords 0 -1 1 1 185 60 1 10 10;
#X restore 107 454 pd belay;
#X obj 106 525 chan-mix belay;
#N canvas 1007 790 1025 512 eq 0;
#X obj 287 380 inlet~;
#X obj 287 472 outlet~;
#X obj 287 437 biquad~;
#X obj 352 379 inlet~;
#X obj 352 471 outlet~;
#X obj 352 436 biquad~;
#X floatatom 371 27 6 0 0 1 - - -, f 6;
#X obj 303 27 hsl 60 17 0 127 0 1 ctl_eq-f1 ctl_eq-f1 lo/mid_f 5 9
0 10 -203904 -1 -1 2323 0;
#X obj 423 53 hsl 60 17 -12 12 0 1 ctl_eq-hi_range ctl_eq-hi_range
hi 5 9 0 10 -204786 -1 -1 2950 0;
#X obj 333 338 hlshelf 30 50 70 500 5000;
#X obj 423 36 hsl 60 17 -12 12 0 1 ctl_eq-mid_range ctl_eq-mid_range
mid 5 9 0 10 -204786 -1 -1 2950 0;
#X obj 423 19 hsl 60 17 -12 12 0 1 ctl_eq-lo_range ctl_eq-lo_range
lo 5 9 0 10 -204786 -1 -1 2950 0;
#X obj 374 182 ctl-range eq-lo 0 -12 12;
#X obj 406 212 ctl-range eq-mid 0 -12 12;
#X obj 459 241 ctl-range eq-hi 0 -12 12;
#X obj 406 239 t b f;
#X obj 463 269 t b f;
#X obj 138 174 mtof;
#X obj 137 200 t b f;
#X obj 253 173 mtof;
#X obj 252 199 t b f;
#X floatatom 371 44 6 0 0 1 - - -, f 6;
#X obj 303 44 hsl 60 17 0 127 0 1 ctl_eq-f2 ctl_eq-f2 mid/hi_f 5 9
0 10 -203904 -1 -1 4646 0;
#X obj 403 11 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 138 148 ctl eq-f1 50;
#X obj 253 147 ctl eq-f2 100;
#X msg 404 93 sane;
#X obj 512 55 btn eq-sane;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 5 0 4 0;
#X connect 9 0 2 0;
#X connect 9 0 5 0;
#X connect 12 0 9 0;
#X connect 13 0 15 0;
#X connect 14 0 16 0;
#X connect 15 0 9 0;
#X connect 15 1 9 1;
#X connect 16 0 9 0;
#X connect 16 1 9 2;
#X connect 17 0 6 0;
#X connect 17 0 18 0;
#X connect 18 0 9 0;
#X connect 18 1 9 3;
#X connect 19 0 20 0;
#X connect 19 0 21 0;
#X connect 20 0 9 0;
#X connect 20 1 9 4;
#X connect 23 0 26 0;
#X connect 24 0 17 0;
#X connect 25 0 19 0;
#X connect 26 0 12 0;
#X connect 26 0 13 0;
#X connect 26 0 14 0;
#X connect 26 0 25 0;
#X connect 26 0 24 0;
#X connect 27 0 26 0;
#X coords 0 -1 1 1 185 60 1 300 10;
#X restore 243 224 pd eq;
#N canvas 134 139 1065 838 loopz 0;
#X obj 547 269 inlet~;
#X obj 225 19 r link_phase;
#X obj 23 47 tgl 15 0 empty loop-playing playback 0 -7 0 10 -262144
-1 -1 0 1;
#X obj 225 90 change;
#X floatatom 310 138 5 0 0 0 - - -, f 5;
#X msg 309 99 set \$1;
#X obj 310 158 select 0 1;
#X floatatom 345 230 5 0 0 0 - - -, f 5;
#X obj 310 202 -;
#X msg 310 180 1;
#X obj 345 253 select 0 1;
#X obj 347 293 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 384 294 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 409 346 tabwrite~ loop-al;
#X obj 667 350 tabwrite~ loop-bl;
#X obj 225 66 > 3.5;
#X obj 225 114 select 1;
#X obj 225 43 t f f f;
#X obj 144 290 change;
#X obj 144 406 select 1 0;
#N canvas 72 479 1110 839 loopz-replayer 0;
#X obj 703 425 phasor~;
#X obj 688 517 tabread4~;
#X obj 774 345 expr $f2 / $f1;
#X obj 760 319 / 60;
#X obj 741 346 *;
#X obj 703 449 *~, f 11;
#X obj 706 622 *~;
#X obj 757 561 line~;
#X msg 330 485 0 10;
#X msg 88 472 1 10;
#X obj 688 669 outlet~;
#X obj 822 517 tabread4~;
#X obj 839 622 *~;
#X obj 821 669 outlet~;
#X obj 757 669 outlet~;
#X obj 88 68 route start stop, f 68;
#X obj 225 185 r link_phase;
#X obj 192 243 float;
#X floatatom 218 273 5 0 0 3 activate_time - -, f 5;
#X obj 120 278 *;
#X obj 152 327 expr floor($f1);
#X obj 120 302 t f f;
#X obj 120 356 -;
#X floatatom 134 399 5 0 0 3 phase - -, f 5;
#X obj 177 356 /;
#X floatatom 203 400 5 0 0 3 start_at - -, f 5;
#X obj 120 158 / 4;
#X obj 119 185 t f f f f b;
#X obj 88 128 t b f;
#X obj 86 13 inlet;
#X obj 834 22 inlet;
#X obj 223 597 snapshot~;
#X obj 226 726 s loop-play-pos;
#X obj 223 567 metro 100;
#X obj 224 534 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 791 371 27 0 0 1 samples_per_loop - -, f 27;
#X msg 891 448 set loop-\$1r;
#X msg 606 449 set loop-\$1l;
#X obj 836 74 unpack s f f f f;
#X obj 842 393 expr $f1*$f2+$f3;
#X obj 149 121 r loop_beatunit;
#X obj 225 693 expr ($f1 + $f2 - $f3) / ($f4 - $f3);
#X obj 385 581 *~;
#X obj 377 126 t b b;
#X obj 688 645 *~;
#X obj 821 645 *~;
#X obj 527 140 t b f;
#X obj 516 116 r loopz-fade-beats;
#X obj 515 167 /;
#X obj 515 195 * 1000;
#X obj 385 554 vline~;
#X msg 516 232 0 \$1;
#X msg 384 299 1 10 \, 0 32268.9 10, f 10;
#X msg 396 227 set 1 10 \, addcomma \, add2 0 \$1 10, f 14;
#X connect 0 0 5 0;
#X connect 1 0 6 0;
#X connect 2 0 5 1;
#X connect 2 0 35 0;
#X connect 3 0 4 1;
#X connect 3 0 46 0;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X connect 5 0 11 0;
#X connect 5 0 31 0;
#X connect 6 0 44 1;
#X connect 7 0 6 1;
#X connect 7 0 12 1;
#X connect 7 0 14 0;
#X connect 8 0 7 0;
#X connect 8 0 33 0;
#X connect 9 0 7 0;
#X connect 9 0 33 0;
#X connect 11 0 12 0;
#X connect 12 0 45 1;
#X connect 15 0 28 0;
#X connect 15 0 43 0;
#X connect 15 1 8 0;
#X connect 16 0 17 1;
#X connect 17 0 18 0;
#X connect 17 0 19 1;
#X connect 19 0 21 0;
#X connect 20 0 22 1;
#X connect 20 0 24 0;
#X connect 21 0 22 0;
#X connect 21 1 20 0;
#X connect 22 0 23 0;
#X connect 22 0 0 1;
#X connect 24 0 25 0;
#X connect 24 0 39 0;
#X connect 26 0 27 0;
#X connect 27 0 19 0;
#X connect 27 1 2 0;
#X connect 27 2 4 0;
#X connect 27 3 24 1;
#X connect 27 4 17 0;
#X connect 28 0 9 0;
#X connect 28 1 26 0;
#X connect 29 0 15 0;
#X connect 30 0 38 0;
#X connect 31 0 41 0;
#X connect 33 0 31 0;
#X connect 34 0 33 0;
#X connect 36 0 11 0;
#X connect 37 0 1 0;
#X connect 38 0 37 0;
#X connect 38 0 36 0;
#X connect 38 1 3 0;
#X connect 38 2 2 1;
#X connect 38 2 39 1;
#X connect 38 3 39 2;
#X connect 38 3 41 2;
#X connect 38 4 41 3;
#X connect 39 0 1 1;
#X connect 39 0 11 1;
#X connect 39 0 41 1;
#X connect 40 0 26 1;
#X connect 41 0 32 0;
#X connect 42 0 44 0;
#X connect 42 0 45 0;
#X connect 43 0 52 0;
#X connect 44 0 10 0;
#X connect 45 0 13 0;
#X connect 46 0 48 0;
#X connect 46 1 48 1;
#X connect 47 0 48 0;
#X connect 48 0 49 0;
#X connect 49 0 51 0;
#X connect 49 0 53 0;
#X connect 50 0 42 0;
#X connect 50 0 42 1;
#X connect 51 0 50 0;
#X connect 52 0 50 0;
#X connect 53 0 52 0;
#X restore 488 565 pd loopz-replayer;
#X obj 601 269 inlet~;
#X obj 409 373 tabwrite~ loop-ar;
#X obj 669 377 tabwrite~ loop-br;
#X obj 525 665 outlet~;
#X obj 549 638 *~;
#X obj 631 664 outlet~;
#X obj 609 634 *~;
#X obj 41 47 hsl 160 15 0 1 0 0 empty loop-play-pos empty -2 -8 0 10
-262144 -1 -1 3338 1;
#X obj 41 65 hsl 160 15 0 127 0 0 empty ctl_loop-sttt off_|_4_|_8_|_16_|_32_|_64
0 8 0 10 -261682 -1 -1 0 1;
#X obj 190 20 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 93 339 buf-params a;
#X obj 197 340 buf-params b;
#X obj 98 468 list;
#X obj 192 468 list;
#X obj 445 124 array define loop-al;
#X obj 445 147 array define loop-ar;
#X obj 602 124 array define loop-bl;
#X obj 602 147 array define loop-br;
#X msg 557 59 resize 360000 \, const 0;
#X obj 558 32 loadbang;
#X obj 308 73 r loop-playing;
#N canvas 263 268 929 688 loopz-control 0;
#X obj 366 195 tgl 15 0 empty empty 1/8s 17 7 0 10 -262144 -1 -1 0
8;
#X obj 381 216 tgl 15 0 empty empty 1/16s 17 7 0 10 -262144 -1 -1 0
16;
#X obj 395 236 tgl 15 0 empty empty 1/32s 17 7 0 10 -262144 -1 -1 0
32;
#X obj 410 257 tgl 15 0 empty empty 1/64s 17 7 0 10 -262144 -1 -1 0
64;
#X obj 367 290 select 0;
#X msg 290 477 stop;
#X msg 340 478 start \$1;
#X msg 176 557 0;
#X obj 177 604 s loop-playing;
#X msg 230 557 1;
#X obj 322 159 tgl 15 0 empty empty whole_bar 17 7 0 10 -262144 -1
-1 0 1;
#X obj 344 180 tgl 15 0 empty empty 1/4s 17 7 0 10 -262144 -1 -1 0
4;
#X obj 508 201 ctl loop-sttt 0;
#X obj 508 226 expr floor($f1*6/128);
#X obj 508 254 select 0;
#X obj 560 280 expr pow(2 \, $i1+1);
#X msg 506 316 0;
#X obj 552 363 s loopz-stutter-amt;
#X msg 467 173 sane;
#X obj 478 146 btn misc-sane;
#X obj 139 197 r loop-playing;
#X obj 54 215 > 0;
#X msg 107 317 1;
#X obj 54 162 r btn_loop-play_in;
#X obj 54 261 int;
#X obj 54 289 select 1;
#X obj 54 238 select 1;
#X text 50 80 loop playing button;
#X text 52 108 pressing toggles on/off of loop if off \, toggles on
for a full bar;
#X text 312 79 buttons for testing;
#X text 507 81 stutter control;
#X text 510 107 value is quantized into size zones: off \, 1/4 \, 1/8
\, 1/16 \, 1/32 \, 1/128;
#X obj 456 34 inlet;
#X text 506 35 bang for |sane(;
#X obj 354 555 outlet;
#X text 353 578 commands to loopz-replayer, f 14;
#X obj 507 433 ctl loop-fade 0;
#X obj 561 552 *;
#X msg 507 515 5000;
#X obj 559 620 s loopz-fade-beats;
#X obj 641 431 r link_quantum;
#X obj 507 488 select 0 1 2 3 4, f 28;
#X obj 507 459 expr floor($f1*5/128);
#X msg 623 512 2;
#X msg 661 512 1;
#X text 522 409 fade out time in beats;
#X msg 548 515 16;
#X msg 584 513 8;
#X obj 187 305 s btn_loop-play_out;
#X obj 187 276 int;
#X obj 186 246 delay 50;
#X text 255 225 to reset LED state after button presses, f 10;
#X connect 0 0 4 0;
#X connect 1 0 4 0;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 7 0;
#X connect 5 0 34 0;
#X connect 6 0 9 0;
#X connect 6 0 34 0;
#X connect 7 0 8 0;
#X connect 9 0 8 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 5 0;
#X connect 14 0 16 0;
#X connect 14 1 15 0;
#X connect 15 0 6 0;
#X connect 15 0 17 0;
#X connect 16 0 17 0;
#X connect 18 0 12 0;
#X connect 18 0 36 0;
#X connect 19 0 18 0;
#X connect 20 0 24 1;
#X connect 20 0 49 0;
#X connect 21 0 26 0;
#X connect 22 0 6 0;
#X connect 23 0 21 0;
#X connect 23 0 50 0;
#X connect 24 0 25 0;
#X connect 25 0 5 0;
#X connect 25 1 22 0;
#X connect 26 0 24 0;
#X connect 32 0 18 0;
#X connect 36 0 42 0;
#X connect 37 0 39 0;
#X connect 38 0 39 0;
#X connect 40 0 37 1;
#X connect 41 0 38 0;
#X connect 41 1 46 0;
#X connect 41 2 47 0;
#X connect 41 3 43 0;
#X connect 41 4 44 0;
#X connect 42 0 41 0;
#X connect 43 0 39 0;
#X connect 44 0 39 0;
#X connect 46 0 37 0;
#X connect 47 0 37 0;
#X connect 49 0 48 0;
#X connect 50 0 49 0;
#X restore 356 441 pd loopz-control;
#X obj 329 19 r link-quantum;
#X obj 329 41 - 0.5;
#X obj 21 161 expr if($f1 < 1000 \, $f1 \, 0);
#X floatatom 153 20 5 0 0 0 fade - -, f 5;
#X obj 22 132 r loopz-fade-beats;
#X obj 776 430 ctl loop-over;
#X obj 775 510 *;
#X obj 775 484 t f f;
#X obj 776 535 pack 0 50;
#X obj 776 558 line~;
#X obj 579 593 expr~ max(1-$v1 \, $v2);
#X obj 776 457 / 127;
#X connect 0 0 13 0;
#X connect 0 0 14 0;
#X connect 0 0 25 0;
#X connect 1 0 17 0;
#X connect 3 0 16 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 9 0;
#X connect 6 1 7 0;
#X connect 7 0 8 1;
#X connect 7 0 10 0;
#X connect 7 0 18 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 10 0 31 0;
#X connect 10 1 12 0;
#X connect 10 1 32 0;
#X connect 11 0 13 0;
#X connect 11 0 22 0;
#X connect 12 0 14 0;
#X connect 12 0 23 0;
#X connect 15 0 3 0;
#X connect 16 0 4 0;
#X connect 17 0 15 0;
#X connect 17 1 31 1;
#X connect 17 2 32 1;
#X connect 18 0 19 0;
#X connect 19 0 33 0;
#X connect 19 1 34 0;
#X connect 20 0 24 0;
#X connect 20 1 53 0;
#X connect 20 2 26 0;
#X connect 21 0 22 0;
#X connect 21 0 23 0;
#X connect 21 0 27 0;
#X connect 25 0 24 0;
#X connect 27 0 26 0;
#X connect 30 0 42 0;
#X connect 31 0 33 1;
#X connect 32 0 34 1;
#X connect 33 0 20 1;
#X connect 34 0 20 1;
#X connect 39 0 35 0;
#X connect 39 0 36 0;
#X connect 39 0 37 0;
#X connect 39 0 38 0;
#X connect 40 0 39 0;
#X connect 41 0 5 0;
#X connect 42 0 20 0;
#X connect 43 0 44 0;
#X connect 44 0 15 1;
#X connect 45 0 46 0;
#X connect 47 0 45 0;
#X connect 48 0 54 0;
#X connect 49 0 51 0;
#X connect 50 0 49 0;
#X connect 50 1 49 1;
#X connect 51 0 52 0;
#X connect 52 0 53 1;
#X connect 53 0 25 1;
#X connect 53 0 27 1;
#X connect 54 0 50 0;
#X coords 0 -1 1 1 185 60 1 20 20;
#X restore 244 74 pd loopz;
#X obj 693 200 chan belay;
#N canvas 29 259 1262 680 notes 0;
#X obj 102 259 notein;
#X obj 379 48 r port-kb;
#X obj 98 355 noteout;
#X obj 477 405 r port-dt;
#X obj 379 94 * 16;
#X obj 379 71 - 1;
#X obj 67 324 spigot;
#X obj 144 329 r kb-outch;
#X obj 14 80 r kb-outch;
#X floatatom 104 55 5 0 0 0 - - -, f 5;
#X floatatom 149 55 5 0 0 0 - - -, f 5;
#X obj 14 110 expr ($i1-1)/16 + 1 \; $i1-($i1-1)/16*16;
#X text 103 34 port;
#X text 151 34 ch;
#X floatatom 377 127 5 0 0 0 - - -, f 5;
#X obj 288 323 spigot;
#X obj 365 328 r kb-outch;
#X obj 496 325 spigot;
#X obj 573 330 r kb-outch;
#X obj 527 356 ctlout;
#X obj 323 258 bendin;
#X obj 319 354 bendout;
#X obj 873 40 r btn_kb-digitakt_in;
#X obj 870 352 s btn_kb-digitakt_out;
#X obj 503 438 pack i i i i i;
#X obj 500 491 list split;
#X obj 533 539 list split 1;
#X obj 546 516 list split;
#X obj 578 563 list split 1;
#X obj 567 405 r port-pf;
#X obj 739 404 t b b i;
#X obj 479 628 s kb-outch;
#X obj 13 152 pack i i;
#X obj 13 179 print keyboard-to;
#X obj 912 63 r btn_kb-preenfm2-1_in;
#X obj 948 86 r btn_kb-preenfm2-2_in;
#X obj 988 110 r btn_kb-preenfm2-3_in;
#X obj 1030 136 r btn_kb-preenfm2-4_in;
#X obj 1029 254 s btn_kb-preenfm2-4_out;
#X msg 874 64 0;
#X msg 912 87 1;
#X msg 949 110 2;
#X msg 989 135 3;
#X msg 1030 162 4;
#X obj 916 192 int;
#X obj 1029 230 == 4;
#X obj 989 253 == 3;
#X obj 989 277 s btn_kb-preenfm2-3_out;
#X obj 948 278 == 2;
#X obj 948 302 s btn_kb-preenfm2-2_out;
#X obj 909 302 == 1;
#X obj 909 326 s btn_kb-preenfm2-1_out;
#X obj 870 327 == 0;
#X obj 479 600 expr ($i1 - 1)*16 + $i2;
#X msg 517 462 14 9 10 11 12;
#X obj 140 285 expr $i1 > $i2 && $i1 <= ($i2 + 15), f 17;
#X obj 361 284 expr $i1 > $i2 && $i1 <= ($i2 + 15), f 17;
#X obj 569 286 expr $i1 > $i2 && $i1 <= ($i2 + 15), f 17;
#X obj 247 11 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 247 30 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 246 50 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 267 10 n;
#X text 268 29 b;
#X text 268 48 c;
#N canvas 165 187 450 300 ctlin 0;
#X obj 72 137 outlet;
#X obj 146 136 outlet;
#X obj 218 135 outlet;
#X restore 531 260 pd ctlin;
#X text 628 191 ctlin is disabled because sending the wrong CC to the
Digitakt is fatal., f 20;
#X connect 0 0 6 0;
#X connect 0 1 2 1;
#X connect 0 2 55 0;
#X connect 1 0 5 0;
#X connect 3 0 24 0;
#X connect 4 0 14 0;
#X connect 5 0 4 0;
#X connect 6 0 2 0;
#X connect 6 0 58 0;
#X connect 7 0 2 2;
#X connect 8 0 11 0;
#X connect 11 0 9 0;
#X connect 11 0 32 0;
#X connect 11 1 10 0;
#X connect 11 1 32 1;
#X connect 14 0 55 1;
#X connect 14 0 56 1;
#X connect 14 0 57 1;
#X connect 15 0 21 0;
#X connect 15 0 59 0;
#X connect 16 0 21 1;
#X connect 17 0 60 0;
#X connect 17 0 19 0;
#X connect 18 0 19 2;
#X connect 20 0 15 0;
#X connect 20 1 56 0;
#X connect 22 0 39 0;
#X connect 24 0 25 0;
#X connect 25 1 26 0;
#X connect 26 0 53 0;
#X connect 27 1 28 0;
#X connect 28 0 53 1;
#X connect 29 0 24 1;
#X connect 29 0 24 2;
#X connect 29 0 24 3;
#X connect 29 0 24 4;
#X connect 30 0 24 0;
#X connect 30 1 54 0;
#X connect 30 2 25 1;
#X connect 30 2 27 1;
#X connect 32 0 33 0;
#X connect 34 0 40 0;
#X connect 35 0 41 0;
#X connect 36 0 42 0;
#X connect 37 0 43 0;
#X connect 39 0 44 0;
#X connect 40 0 44 0;
#X connect 41 0 44 0;
#X connect 42 0 44 0;
#X connect 43 0 44 0;
#X connect 44 0 30 0;
#X connect 44 0 45 0;
#X connect 44 0 46 0;
#X connect 44 0 48 0;
#X connect 44 0 50 0;
#X connect 44 0 52 0;
#X connect 45 0 38 0;
#X connect 46 0 47 0;
#X connect 48 0 49 0;
#X connect 50 0 51 0;
#X connect 52 0 23 0;
#X connect 53 0 31 0;
#X connect 54 0 27 0;
#X connect 55 0 6 1;
#X connect 56 0 15 1;
#X connect 57 0 17 1;
#X connect 64 0 17 0;
#X connect 64 1 19 1;
#X connect 64 2 57 0;
#X coords 0 -1 1 1 185 60 1 100 10;
#X restore 18 298 pd notes;
#N canvas 91 191 1129 766 preenfm2-routing 0;
#X obj 495 88 ctlin;
#X obj 496 169 pack i i i i;
#X obj 535 114 expr $i1-($i1-1)/16*16 \; ($i1-1)/16 + 1;
#X obj 535 234 expr 9 <= $i1 && $i1 <12;
#X obj 496 267 spigot;
#X msg 535 209 float \$3;
#X obj 496 343 unpack i i i i;
#X obj 570 426 !=;
#X obj 594 399 r port-uc;
#X obj 498 517 ctlout, f 9;
#X obj 497 458 spigot;
#X obj 559 463 expr $i1 + 16*($i2 - 1), f 13;
#X obj 675 345 unpack i i i i;
#X obj 749 428 !=;
#X obj 677 519 ctlout, f 9;
#X obj 676 460 spigot;
#X obj 738 465 expr $i1 + 16*($i2 - 1), f 13;
#X obj 861 345 unpack i i i i;
#X obj 935 428 !=;
#X obj 863 519 ctlout, f 9;
#X obj 862 460 spigot;
#X obj 924 465 expr $i1 + 16*($i2 - 1), f 13;
#X obj 773 401 r port-dt;
#X obj 959 401 r port-pf;
#X text 670 550 In theory the DT should receive these as well \, but
the DT doesn't seem to track ctrl input for the controls it is set
to manage on a MIDI track. Ah well... no point in sending them \, then.
, f 22;
#X text 491 49 Forwarder for controls on PreenFM2 channels (9 ~ 12).
;
#X text 549 87 Controls for the PreenFM2 may be received;
#X obj 78 162 pack i i i i;
#X obj 117 107 expr $i1-($i1-1)/16*16 \; ($i1-1)/16 + 1;
#X obj 117 227 expr 9 <= $i1 && $i1 <12;
#X obj 78 260 spigot;
#X msg 117 202 float \$3;
#X obj 78 336 unpack i i i i;
#X obj 152 419 !=;
#X obj 79 451 spigot;
#X obj 141 456 expr $i1 + 16*($i2 - 1), f 13;
#X obj 77 81 notein;
#X obj 80 510 noteout, f 9;
#X obj 177 392 r port-pf;
#X text 70 48 Forwarder for notes to PreenFM2 channels (9 ~ 12).;
#X obj 263 328 bng 15 250 50 0 empty empty notes 17 7 0 10 -4034 -1
-1;
#X obj 335 328 bng 15 250 50 0 empty empty controls 17 7 0 10 -4032
-1 -1;
#X msg 900 125 9 \, 10 \, 11 \, 12;
#X obj 497 303 list;
#X obj 899 80 r resetbang;
#X obj 899 102 delay 25 1 msec;
#X msg 900 149 list 0 64 \$1 0 \, list 0 125 \$1 0 \, list 0 120 \$1
0 \, list 80 73 \$1 0 \, list 64 115 \$1 0 \, list 64 116 \$1 0 \,
list 64 117 \$1 0 \, list 64 118 \$1 0, f 18;
#X obj 1097 119 expr $i1-($i1-1)/16*16 \; ($i1-1)/16 + 1;
#X obj 1097 239 expr 9 <= $i1 && $i1 <12;
#X obj 1058 272 spigot;
#X obj 1132 431 !=;
#X obj 1059 463 spigot;
#X obj 1121 468 expr $i1 + 16*($i2 - 1), f 13;
#X obj 1157 404 r port-pf;
#X obj 335 345 bng 15 250 50 0 empty empty program 17 7 0 10 -4032
-1 -1;
#X obj 1057 93 pgmin;
#X obj 1058 174 pack i i i;
#X msg 1097 214 float \$2;
#X obj 1058 348 unpack i i i;
#X obj 1060 522 pgmout, f 9;
#X text 1047 48 Forwarder for program changes on PreenFM2 channels
(9 ~ 12).;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 0 2 2 0;
#X connect 1 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 1 2;
#X connect 2 1 1 3;
#X connect 3 0 4 1;
#X connect 4 0 43 0;
#X connect 5 0 3 0;
#X connect 6 0 10 0;
#X connect 6 1 9 1;
#X connect 6 2 11 0;
#X connect 6 3 7 0;
#X connect 7 0 10 1;
#X connect 8 0 7 1;
#X connect 8 0 11 1;
#X connect 10 0 9 0;
#X connect 11 0 9 2;
#X connect 12 0 15 0;
#X connect 12 1 14 1;
#X connect 12 2 16 0;
#X connect 12 3 13 0;
#X connect 13 0 15 1;
#X connect 15 0 14 0;
#X connect 16 0 14 2;
#X connect 17 0 20 0;
#X connect 17 1 19 1;
#X connect 17 2 21 0;
#X connect 17 3 18 0;
#X connect 18 0 20 1;
#X connect 20 0 19 0;
#X connect 21 0 19 2;
#X connect 22 0 13 1;
#X connect 22 0 16 1;
#X connect 23 0 18 1;
#X connect 23 0 21 1;
#X connect 27 0 31 0;
#X connect 27 0 30 0;
#X connect 28 0 27 2;
#X connect 28 1 27 3;
#X connect 29 0 30 1;
#X connect 30 0 32 0;
#X connect 30 0 40 0;
#X connect 31 0 29 0;
#X connect 32 0 34 0;
#X connect 32 1 37 1;
#X connect 32 2 35 0;
#X connect 32 3 33 0;
#X connect 33 0 34 1;
#X connect 34 0 37 0;
#X connect 35 0 37 2;
#X connect 36 0 27 0;
#X connect 36 1 27 1;
#X connect 36 2 28 0;
#X connect 38 0 33 1;
#X connect 38 0 35 1;
#X connect 42 0 46 0;
#X connect 43 0 6 0;
#X connect 43 0 41 0;
#X connect 43 0 17 0;
#X connect 44 0 45 0;
#X connect 45 0 42 0;
#X connect 46 0 43 0;
#X connect 47 0 56 1;
#X connect 47 1 56 2;
#X connect 48 0 49 1;
#X connect 49 0 54 0;
#X connect 49 0 58 0;
#X connect 50 0 51 1;
#X connect 51 0 59 0;
#X connect 52 0 59 1;
#X connect 53 0 50 1;
#X connect 53 0 52 1;
#X connect 55 0 56 0;
#X connect 55 1 47 0;
#X connect 56 0 57 0;
#X connect 56 0 49 0;
#X connect 57 0 48 0;
#X connect 58 0 51 0;
#X connect 58 1 52 0;
#X connect 58 2 50 0;
#X coords 0 -1 1 1 185 60 1 250 300;
#X restore 17 226 pd preenfm2-routing;
#N canvas 831 812 412 397 timers 0;
#X obj 77 298 ctlout 124 13;
#X obj 97 325 ctlout 125 13;
#X obj 55 20 notein 13;
#X obj 115 45 > 0;
#X obj 55 70 spigot, f 9;
#X obj 54 98 select 124 125 126 127;
#X obj 76 220 wallclock;
#X obj 166 221 wallclock;
#X msg 55 121 resetif;
#X msg 83 145 toggle;
#X msg 129 120 resetif;
#X msg 157 144 toggle;
#X obj 193 297 ctlout 126 13;
#X obj 213 324 ctlout 127 13;
#X text 50 221 t1;
#X text 139 220 t2;
#X obj 288 65 pgmin;
#X msg 289 95 reset \, start, f 7;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 5 1 9 0;
#X connect 5 2 10 0;
#X connect 5 3 11 0;
#X connect 6 0 0 0;
#X connect 6 1 1 0;
#X connect 7 0 12 0;
#X connect 7 1 13 0;
#X connect 8 0 6 0;
#X connect 9 0 6 0;
#X connect 10 0 7 0;
#X connect 11 0 7 0;
#X connect 16 0 17 0;
#X connect 17 0 7 0;
#X coords 0 -1 1 1 185 60 1 50 200;
#X restore 539 488 pd timers;
#X connect 3 0 10 0;
#X connect 3 1 10 1;
#X connect 4 0 18 0;
#X connect 4 1 18 1;
#X connect 5 0 17 0;
#X connect 5 1 17 1;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 3 0;
#X connect 9 0 15 0;
#X connect 9 1 3 1;
#X connect 9 1 15 1;
#X connect 13 0 14 0;
#X connect 14 0 11 1;
#X connect 15 0 16 0;
#X connect 15 1 16 1;
#X connect 17 0 8 0;
#X connect 17 1 8 1;
#X connect 18 0 5 0;
#X connect 18 1 5 1;
