#N canvas 702 54 871 634 10;
#N canvas 1392 157 450 300 config 0;
#X obj 41 86 loadbang;
#X obj 22 109 s resetbang;
#X obj 16 15 bng 15 250 50 0 empty empty reset_bang! 17 7 0 10 -262144
-1 -258113;
#X obj 231 223 s port-dt;
#X msg 231 199 2;
#X obj 152 223 s port-uc;
#X msg 153 200 1;
#X obj 220 111 r resetbang;
#X obj 115 87 s doui;
#X obj 16 36 tgl 15 0 empty empty do_ui 17 7 0 10 -262144 -1 -1 1 1
;
#X connect 0 0 1 0;
#X connect 2 0 1 0;
#X connect 4 0 3 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 7 0 4 0;
#X connect 9 0 8 0;
#X coords 0 -1 1 1 185 60 2 10 10;
#X restore 16 12 pd config;
#N canvas 281 575 617 446 link-sync 0;
#X msg 34 117 connect 1;
#X obj 35 281 t b;
#X obj 34 330 midiout;
#X obj 79 304 r port-dt;
#X floatatom 37 50 5 0 0 0 - - -, f 5;
#X text 31 32 tempo;
#X msg 34 305 248;
#X obj 34 142 abl_link~ 24 0 4 120;
#X obj 34 92 r resetbang;
#X floatatom 90 50 5 0 0 0 - - -, f 5;
#X obj 223 17 r #abl_link_num_peers;
#X text 86 32 link'd;
#X obj 282 102 ctlin 96 13;
#X obj 304 162 ctlin 97 13;
#X obj 304 216 * 0.1;
#X obj 284 246 +;
#X msg 159 116 tempo \$1;
#X obj 282 127 expr if($f1 < 64 \, $f1 \, $f1 - 128);
#X obj 304 187 expr if($f1 < 64 \, $f1 \, $f1 - 128);
#X obj 179 258 * 10;
#X obj 179 305 bendout 13;
#X obj 179 280 - 8193;
#X obj 224 48 ctlout 102 13;
#X msg 196 224 set \$1;
#X obj 70 224 s link_phase;
#X obj 68 249 s link_tempo;
#X connect 0 0 7 0;
#X connect 1 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 16 0;
#X connect 6 0 2 0;
#X connect 7 0 1 0;
#X connect 7 1 24 0;
#X connect 7 3 15 1;
#X connect 7 3 19 0;
#X connect 7 3 23 0;
#X connect 7 3 25 0;
#X connect 8 0 0 0;
#X connect 10 0 9 0;
#X connect 10 0 22 0;
#X connect 12 0 17 0;
#X connect 13 0 18 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 7 0;
#X connect 17 0 15 0;
#X connect 18 0 14 0;
#X connect 19 0 21 0;
#X connect 21 0 20 0;
#X connect 23 0 4 0;
#X coords 0 -1 1 1 185 60 1 10 10;
#X restore 18 110 pd link-sync;
#N canvas 492 660 628 506 dt-volumes 0;
#X obj 111 -3 ctlin 95 1;
#X obj 200 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4298 1;
#X obj 100 273 ctlout 95 17;
#X obj 216 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4340 1;
#X obj 232 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4340 1;
#X obj 248 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4340 1;
#X obj 282 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4257 1;
#X obj 298 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4257 1;
#X obj 314 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4257 1;
#X obj 330 103 vsl 16 54 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4257 1;
#X obj 392 69 ctlin 95 8;
#X obj 387 177 ctlout 95 24;
#X obj 375 48 ctlin 95 7;
#X obj 371 198 ctlout 95 23;
#X obj 356 26 ctlin 95 6;
#X obj 353 221 ctlout 95 22;
#X obj 342 6 ctlin 95 5;
#X obj 337 244 ctlout 95 21;
#X obj 221 64 ctlin 95 4;
#X obj 208 196 ctlout 95 20;
#X obj 190 41 ctlin 95 3;
#X obj 180 223 ctlout 95 19;
#X obj 141 249 ctlout 95 18;
#X obj 149 19 ctlin 95 2;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 22 0;
#X connect 4 0 21 0;
#X connect 5 0 19 0;
#X connect 6 0 17 0;
#X connect 7 0 15 0;
#X connect 8 0 13 0;
#X connect 9 0 11 0;
#X connect 10 0 9 0;
#X connect 12 0 8 0;
#X connect 14 0 7 0;
#X connect 16 0 6 0;
#X connect 18 0 5 0;
#X connect 20 0 4 0;
#X connect 23 0 3 0;
#X coords 0 -1 1 1 185 60 2 200 100;
#X restore 18 199 pd dt-volumes;
#N canvas 460 750 818 527 verb 0;
#X msg 552 89 roomsize \$1;
#X msg 550 169 damping \$1;
#X msg 550 243 width \$1;
#X msg 137 235 print;
#X msg 126 45 freeze \$1;
#X msg 131 83 bypass \$1;
#X obj 131 64 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1
;
#X obj 126 26 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1
;
#X obj 412 51 hsl 60 18 0 1 0 1 empty empty width 2 9 1 12 -262131
-1 -1 2462 0;
#X obj 310 51 hsl 60 18 0 2 0 1 empty empty damping 2 9 1 12 -261689
-1 -1 4042 0;
#X obj 310 34 hsl 60 18 0.11 1.1 0 1 empty empty roomsize 2 9 1 12
-261689 -1 -1 1394 0;
#X obj 339 324 freeverb~/freeverb~;
#X obj 133 103 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 133 121 firstpassfilter \$1;
#X obj 336 250 inlet~;
#X obj 469 290 inlet~;
#X obj 468 346 outlet~;
#X obj 338 348 outlet~;
#X obj 552 65 ctl-range verb-room 0.9 0.11 1.1;
#X obj 550 146 ctl-range verb-damp 0.915 0 2;
#X obj 550 221 ctl-range verb-width 0.93 0 1;
#X obj 300 166 r resetbang;
#X msg 300 192 wet 0.707 \, dry 0;
#X connect 0 0 11 0;
#X connect 1 0 11 0;
#X connect 2 0 11 0;
#X connect 3 0 11 0;
#X connect 4 0 11 0;
#X connect 5 0 11 0;
#X connect 6 0 5 0;
#X connect 7 0 4 0;
#X connect 8 0 20 0;
#X connect 9 0 19 0;
#X connect 10 0 18 0;
#X connect 11 0 17 0;
#X connect 11 1 16 0;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 15 0 11 1;
#X connect 18 0 0 0;
#X connect 18 1 10 0;
#X connect 19 0 1 0;
#X connect 19 1 9 0;
#X connect 20 0 2 0;
#X connect 20 1 8 0;
#X connect 21 0 22 0;
#X connect 22 0 11 0;
#X coords 0 -1 1 1 185 60 1 300 10;
#X restore 242 273 pd verb;
#X obj 312 22 adc~;
#N canvas 813 753 623 485 flutter 0;
#X obj 276 210 r link_tempo;
#X obj 374 210 r link_phase;
#X obj 267 310 osc~ 2;
#X obj 276 236 / 60;
#X obj 373 235 - 0.2;
#X obj 260 272 *;
#X obj 217 233 t b f;
#X floatatom 217 307 5 0 0 0 - - -, f 5;
#X obj 322 270 *;
#X obj 224 50 hsl 140 15 0 127 0 0 c_flutter c_flutter off_|__8_|_16_|_32_|_64_
0 8 0 10 -204786 -1 -1 0 1;
#X obj 194 415 inlet~;
#X obj 273 416 inlet~;
#X obj 274 482 outlet~;
#X obj 195 482 outlet~;
#X obj 203 449 *~;
#X obj 283 447 *~;
#X obj 129 118 * 5;
#X obj 129 140 / 128;
#X obj 129 163 int;
#X obj 501 193 min 1;
#X obj 501 217 change;
#X obj 500 261 line~;
#X obj 266 334 expr~ max(1 - pow(1 - max(0 \, $v1) \, 4) \, 1 - $v2)
, f 22;
#X obj 129 190 expr pow(2 \, $i1+1);
#X obj 500 238 pack 0 100;
#X obj 95 90 ctl flutter 0;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 22 0;
#X connect 3 0 5 0;
#X connect 4 0 8 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 6 0 8 0;
#X connect 6 1 5 1;
#X connect 6 1 8 1;
#X connect 8 0 2 1;
#X connect 9 0 25 0;
#X connect 10 0 14 0;
#X connect 11 0 15 0;
#X connect 14 0 13 0;
#X connect 15 0 12 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 0 23 0;
#X connect 19 0 20 0;
#X connect 20 0 24 0;
#X connect 21 0 22 1;
#X connect 22 0 14 1;
#X connect 22 0 15 1;
#X connect 23 0 6 0;
#X connect 24 0 21 0;
#X connect 25 0 16 0;
#X connect 25 1 9 0;
#X coords 0 -1 1 1 185 60 1 200 10;
#X restore 243 77 pd flutter;
#N canvas 1584 58 629 638 mapping 1;
#X obj 18 20 ctl-map flutter 112 12;
#X obj 21 327 ctl-map verb-room 100 12;
#X obj 22 369 ctl-map verb-damp 101 12;
#X obj 23 409 ctl-map verb-width 102 12;
#X obj 386 23 ctl-map master-vol 23 13;
#X obj 21 72 ctl-map filt-hi-f 113 12;
#X obj 21 114 ctl-map filt-lo-f 114 12;
#X obj 363 243 ctl-map mix_verb 20 13;
#X obj 363 202 ctl-map mix_dry 19 13;
#X restore 25 589 pd mapping;
#N canvas 518 778 532 466 output 0;
#X obj 132 37 hsl 42 23 0.01 1 1 0 \$0-v \$0-v volume 7 13 1 9 -245500
-13381 -1 3476 0;
#X obj 176 37 tgl 18 0 THIS_IS_HERE_TO_GET_RID_OF_THE_OUTLET \$0-dsp-toggle
dsp 2 9 1 9 -225271 -195568 -33289 1 1;
#N canvas 1019 468 429 371 dsp 0;
#X obj 36 30 inlet;
#X obj 117 227 select 0 1;
#X msg 150 252 6;
#X obj 117 86 route dsp;
#X obj 117 59 receive pd;
#X msg 36 228 dsp \$1;
#X obj 36 253 send pd;
#X msg 231 279 set \$1;
#X msg 117 279 color \$1 20 12;
#X obj 231 310 send \$0-dsp-toggle;
#X msg 117 251 0;
#X obj 251 129 loadbang;
#X obj 231 99 sig~ 1;
#X obj 231 191 snapshot~;
#X obj 251 158 delay 100;
#X obj 117 138 change -1;
#X obj 2 2 cnv 15 425 20 empty empty empty 3 12 0 14 -204280 -1 0;
#X text 6 3 Retrieve and set DSP state;
#X connect 0 0 5 0;
#X connect 0 0 15 0;
#X connect 1 0 10 0;
#X connect 1 1 2 0;
#X connect 2 0 8 0;
#X connect 3 0 15 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 10 0 8 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 13 0 1 0;
#X connect 13 0 7 0;
#X connect 14 0 13 0;
#X connect 15 0 7 0;
#X connect 15 0 1 0;
#X restore 148 76 pd dsp logic;
#X obj 253 44 inlet~;
#X obj 74 268 line~;
#X obj 174 328 *~;
#X obj 194 358 dac~;
#X text 382 46 audio in;
#X obj 315 44 inlet~;
#X obj 236 327 *~;
#X obj 253 115 hip~ 3;
#X obj 315 115 hip~ 3;
#X obj 10 283 send pd;
#X msg 10 262 dsp 1;
#X obj 74 247 pack 0 50;
#X text 141 246 <-- make a ramp to avoid clicks or zipper noise;
#X msg 74 212 0;
#X obj 74 189 moses 0.011;
#X text 359 116 filter out DC;
#X obj 4 3 cnv 15 425 20 empty empty empty 3 12 0 14 -204280 -1 0;
#X text 10 3 dac~ and DSP switch abstraction;
#X text 14 376 Created by Katja Vetter after an idea by Claude Heiland-Allen
- Modified by mzero@ for use in ek.pd;
#X obj 14 110 ctl-range master-vol 0.2 0 1;
#X obj 271 67 catch~ bus_master_l;
#X obj 346 91 catch~ bus_master_r;
#X connect 0 0 22 0;
#X connect 1 0 2 0;
#X connect 3 0 10 0;
#X connect 4 0 9 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 8 0 11 0;
#X connect 9 0 6 1;
#X connect 10 0 5 1;
#X connect 11 0 9 1;
#X connect 13 0 12 0;
#X connect 14 0 4 0;
#X connect 16 0 14 0;
#X connect 17 0 16 0;
#X connect 17 1 14 0;
#X connect 22 0 13 0;
#X connect 22 0 17 0;
#X connect 22 1 0 0;
#X connect 23 0 10 0;
#X connect 24 0 11 0;
#X coords 0 -1 1 1 185 30 1 10 30;
#X restore 532 422 pd output;
#N canvas 707 768 695 463 filter-all 0;
#X obj 43 203 inlet~;
#X obj 42 357 outlet~;
#X obj 120 203 inlet~;
#X obj 119 357 outlet~;
#X obj 219 134 mtof;
#X obj 219 159 * 2;
#X obj 297 176 mtof;
#X obj 297 201 * 2;
#X obj 297 148 ctl filt-lo-f 127;
#X obj 43 235 hip~;
#X obj 42 325 lop~;
#X obj 120 235 hip~;
#X obj 119 325 lop~;
#X obj 219 106 ctl filt-hi-f 0;
#X obj 19 51 hsl 70 15 0 127 0 0 ctl_filt-hi-f ctl_filt-hi-f hi_pass
0 8 0 10 -204800 -1 -1 0 1;
#X obj 110 50 hsl 70 15 0 127 0 0 ctl_filt-lo-f ctl_filt-lo-f lo_pass
0 8 0 10 -204800 -1 -1 6900 1;
#X obj 43 264 hip~;
#X obj 41 293 lop~;
#X obj 120 264 hip~;
#X obj 118 293 lop~;
#X connect 0 0 9 0;
#X connect 2 0 11 0;
#X connect 4 0 5 0;
#X connect 5 0 9 1;
#X connect 5 0 11 1;
#X connect 5 0 18 1;
#X connect 5 0 16 1;
#X connect 6 0 7 0;
#X connect 7 0 10 1;
#X connect 7 0 12 1;
#X connect 7 0 19 1;
#X connect 7 0 17 1;
#X connect 8 0 6 0;
#X connect 9 0 16 0;
#X connect 10 0 1 0;
#X connect 11 0 18 0;
#X connect 12 0 3 0;
#X connect 13 0 4 0;
#X connect 16 0 17 0;
#X connect 17 0 10 0;
#X connect 18 0 19 0;
#X connect 19 0 12 0;
#X coords 0 -1 1 1 185 60 1 10 10;
#X restore 242 157 pd filter-all;
#X obj 242 234 chan-mix dry;
#X obj 242 346 chan-mix verb;
#X obj 533 201 chan dry;
#X obj 612 200 chan verb;
#X obj 562 25 r resetbang;
#X msg 562 49 inv 1;
#X connect 3 0 10 0;
#X connect 3 1 10 1;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 8 0;
#X connect 5 1 8 1;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 3 0;
#X connect 9 1 3 1;
#X connect 13 0 14 0;
#X connect 14 0 11 1;
